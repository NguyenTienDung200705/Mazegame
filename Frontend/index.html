<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Game MÃª Cung</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="welcome">
  <h1>CHÃ€O Má»ªNG Äáº¾N Vá»šI Báº¢N Äá»’ MÃŠ CUNG</h1>
  <button id="readyBtn">Sáº´N SÃ€NG ğŸš€</button>
</div>

<div id="modeSelection">
  <button id="backToWelcome" class="backBtn">â† Quay láº¡i</button>
  <h2>Chá»n cháº¿ Ä‘á»™:</h2>
  
  <!-- Wrap hai nÃºt vÃ o div Ä‘á»ƒ ngang hÃ ng -->
  <div class="mode-buttons">
    <button id="randomBtn">Ngáº«u nhiÃªn ğŸ²</button>
    <button id="levelBtn">Má»©c Ä‘á»™ ğŸ“Š</button>
  </div>
  
  <!-- HÃ¬nh minh há»a mÃª cung bÃªn dÆ°á»›i nÃºt -->
  <div id="mazeIllustration">
    <!-- Fallback online Ä‘á»ƒ test (Pixabay maze) - thay src báº±ng "Image/anh1.webp" náº¿u local load Ä‘Æ°á»£c -->
    <img src="../Image/anh1.webp" alt="Minh há»a mÃª cung" class="illustration-img">
    <!-- <img src="Image/anh1.webp" alt="Minh há»a mÃª cung" class="illustration-img"> -->
  </div>
</div>

<div id="difficultySelection">
  <button id="backToMode" class="backBtn">â† Quay láº¡i</button>
  <h2>Chá»n má»©c Ä‘á»™:</h2>
  
  <!-- Wrap ba nÃºt vÃ o div Ä‘á»ƒ ngang hÃ ng -->
  <div class="difficulty-buttons">
    <button data-diff="10">Dá»… ğŸŒŸ</button>
    <button data-diff="25">Trung bÃ¬nh âš¡</button>
    <button data-diff="40">KhÃ³ ğŸ”¥</button>
  </div>
  
  <!-- HÃ¬nh minh há»a tÆ°Æ¡ng tá»± (náº¿u muá»‘n, cÃ³ thá»ƒ dÃ¹ng áº£nh khÃ¡c hoáº·c áº©n báº±ng CSS) -->
  <div id="difficultyIllustration">
    <img src="../Image/anh2.webp" alt="Minh há»a má»©c Ä‘á»™" class="illustration-img">
    <!-- <img src="Image/anh2.webp" alt="Minh há»a má»©c Ä‘á»™" class="illustration-img"> -->
  </div>
</div>

<div id="mazeContainer">
  <div class="gameLayout">
    <!-- Maze bÃªn trÃ¡i -->
    <div id="mazeSection">
      <div id="maze"></div>
      <div id="successMessage">âœ¨ ÄÃ£ tÃ¬m tháº¥y Ä‘Æ°á»ng Ä‘i! âœ¨</div>
    </div>

    <!-- Sidebar bÃªn pháº£i: Controls vÃ  Metrics -->
    <div id="sidebar">
      <div id="controls">
        <p>Sá»­ dá»¥ng WASD hoáº·c mÅ©i tÃªn Ä‘á»ƒ di chuyá»ƒn. Nháº¥n ESC Ä‘á»ƒ reset.</p>
        
        <!-- NEW: Selection Controls - ThÃªm pháº§n chá»n start/goal á»Ÿ Ä‘áº§u controls -->
        <div id="selection-controls" style="margin-bottom: 15px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; background: #f9f9f9;">
          <h4>Chá»n Äiá»ƒm Báº¯t Äáº§u & Káº¿t ThÃºc</h4>
          <button id="btn-select-start" style="margin-right: 10px; padding: 8px 16px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer;">
            Chá»n Äiá»ƒm Báº¯t Äáº§u (Click maze sau)
          </button>
          <button id="btn-select-goal" style="margin-right: 10px; padding: 8px 16px; background: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer;">
            Chá»n Äiá»ƒm Káº¿t ThÃºc (Click maze sau)
          </button>
          <div id="selection-status" style="margin-top: 5px; font-size: 12px; color: #666;">
            ChÆ°a chá»n Ä‘iá»ƒm nÃ o.
          </div>
        </div>

        <!-- Existing algo buttons -->
        <button id="dfsBtn">Cháº¡y DFS</button>
        <button id="bfsBtn">Cháº¡y BFS</button>
        <button id="astarBtn">Cháº¡y A*</button>
        <button id="resetBtn">Reset</button>
      </div>

      <div id="metrics">
        <div>
          Thá»i gian: <span id="time">0</span>s |
          BÆ°á»›c: <span id="steps">0</span> |
          NÃºt: <span id="nodes">1</span>
        </div>
        <div id="algoMetrics" style="display:none;">
          Thá»i gian algo: <span id="algoTime">0</span>s |
          ÄÆ°á»ng: <span id="pathLen">0</span> |
          Má»Ÿ rá»™ng: <span id="expanded">0</span>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="module" src="js/main.js"></script>
</body>
</html>